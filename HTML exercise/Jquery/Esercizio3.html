<!DOCTYPE html>
<html>
    <style>
        table{
            border-collapse: collapse;
        }
    </style>
    <head>
        <link rel="stylesheet" type="text/css" href="style.css"/>
        <script language="javascript" type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
    </head>
    <body>
        <button id="generateTable">Genera Tabella</button>
    </body>
    <script>    
    $(document).ready(
        function(){
            $("#generateTable").click(function(){    
                var existingTable = $('table')
                if(existingTable)
                {
                    existingTable.remove();
                }
                var max = 30;
                var min = 10;
                var col = Math.floor(Math.random() * (max - min) ) + min;
                var row = Math.floor(Math.random() * (max - min) ) + min;
                var table = document.createElement('table');
                for(var i = 0; i < row; i++){
                    table.insertRow()
                    for(var j = 0; j < col; j++){
                        table.rows[i].insertCell();
                        var cell = table.rows[i].cells[j];
                        cell.addEventListener("click" , function (){
                            if($(this).css("backgroundColor") == "white"){
                                $(this).css("backgroundColor","black");
                            }
                            else{
                                $(this).css("backgroundColor","white");
                            }
                        })
                        cell.style.width = "20px";
                        cell.style.height = "20px";
                        cell.style.border = "1px solid white";
                        if((j + i )% 2 == 0){
                            cell.style.backgroundColor = "black"
                        }
                        else{
                            cell.style.backgroundColor = "white"
                        }
                    }
                }
                $(document.body).append(table)
            })
        })
    </script>
</html>